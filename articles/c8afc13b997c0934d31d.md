---
title: "Angular Material Theme ã®density ã¨ã¯ãªã«ã‹"
emoji: "ğŸ“"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Angular", "angularmaterial", "materialdesign"]
published: true
---

æœ¬è¨˜äº‹ã¯[Angular ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ 2022](https://qiita.com/advent-calendar/2022/angular) ã® 15 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚

## density is ä½•ï¼Ÿ

[Angular v15 is now available!](https://blog.angular.io/angular-v15-is-now-available-df7be7f2f4c8) ã®ãƒ–ãƒ­ã‚°ã«ã—ã‚Œã£ã¨æ›¸ã‹ã‚Œã¦ã„ãŸã“ã¡ã‚‰

> Additionally, all components now have an API to customize density which resolved another popular GitHub issue.
> You can now specify the default density across all of your components by customizing your theme:

```scss
@use "@angular/material" as mat;

$theme: mat.define-light-theme(
  (
    color: (
      primary: mat.define-palette(mat.$red-palette),
      accent: mat.define-palette(mat.$blue-palette),
    ),
    typography: mat.define-typography-config(),
    density: -2,
  )
);

@include mat.all-component-themes($theme);
```

ä»Šå›ã¯ Angular Material ã® theme è¨­å®šã«çªå¦‚ç¾ã‚ŒãŸã“ã®`density` ã«ã¤ã„ã¦è§£èª¬ã—ã¦ã„ãã¾ã™ï¼

## Material Design ã«ãŠã‘ã‚‹ density

ä¸‹è¨˜ã®è¨˜äº‹ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«ã€Material Design ã«ãŠã‘ã‚‹ density ã‚’è§£èª¬ã—ã¾ã™ã€‚
[Applying density - Material Design](https://m2.material.io/design/layout/applying-density.html#usage)
[Using Material Density on the Web](https://medium.com/google-design/using-material-density-on-the-web-59d85f1918f0)

Material Design ã«ãŠã‘ã‚‹ density ã¯ã€ãã®åã®é€šã‚Šç”»é¢å†…ã® densityï¼ˆå¯†åº¦ï¼‰ã«é–¢ã™ã‚‹è€ƒãˆæ–¹ã§ã€è¦ã¯æ°´å¹³æ–¹å‘ã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’æ„å›³çš„ã«ç‹­ãã™ã‚‹ã“ã¨ã§ UX ã®å‘ä¸Šã‚’å›³ã‚‹ã‚‚ã®ã§ã™ã€‚
å¯†åº¦ã‚’ä¸Šã’ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ä¸€ç”»é¢ã«åã‚ã‚‹äº‹ã®ã§ãã‚‹æƒ…å ±ãŒå¢—ãˆã€ä¸€è¦§æ€§ã‚’å‘ä¸Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸç”»é¢å†…ã«é«˜å¯†åº¦ã®éƒ¨åˆ†ã¨ä½å¯†åº¦ã®éƒ¨åˆ†ã‚’åˆ†ã‘ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯é«˜å¯†åº¦ãªéƒ¨åˆ†ã«æ³¨ç›®ã™ã‚‹ã®ã§ç›®ç·šã®èª˜å°ã¨ã—ã¦ã‚‚æ©Ÿèƒ½ã—ã¾ã™ã€‚

![å¯†åº¦ã‚’ä¸Šã’ã‚‹ä¾‹](https://lh3.googleusercontent.com/gkWItWB25nEUuBKZ-VQN2QLnDWtg03lUdt9betFW1BuX3WR1OCbWddxt1t80WHA9FcxW2Evc4yV_j_Yx3QsJbcBqsjM5NxE4m0sM=w1064-v0)

å¯†åº¦ã‚’ä¸Šã’ã‚‹ã“ã¨ã§ä¸Šè¨˜ã®ã‚ˆã†ãª UX ã®å‘ä¸Šã‚’è¦‹è¾¼ã‚ã‚‹ã‚‚ã®ã®ã€é–“é•ã£ãŸä½¿ã„æ–¹ã‚’ã™ã‚‹ã¨é€†ã«æ“ä½œã—ã¥ã‚‰ã„ã€è¦‹ãšã‚‰ã„ç”»é¢ã«ãªã£ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚è©³ã—ãã¯ä¸Šè¨˜ã®ãƒªãƒ³ã‚¯ã‚’ã”è¦§ãã ã•ã„ã€‚

## Angular Material ã«ãŠã‘ã‚‹ density

[Customizing density](https://material.angular.io/guide/theming#customizing-density)
Angular Material ã§ã¯`0` ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ã—ã¦ã€` -1` `-2 ` ã¨å€¤ãŒå°ã•ããªã‚‹ã»ã©å¯†åº¦ãŒé«˜ããªã‚Šã¾ã™ã€‚theme è¨­å®šæ™‚ã«æŒ‡å®šã™ã‚‹æ–¹æ³•ã‚„ã€ç‰¹å®šã® component ã§ scss ã® mixin ã‚’ä½¿ã£ã¦æŒ‡å®šã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ã‚½ãƒ¼ã‚¹ã‚’èª¿ã¹ãŸã¨ã“ã‚ã€ä¸‹è¨˜ component ã«ã¦ã€density ã®è¨­å®šãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

- button-toggle
- button
- checkbox
- chips
- datepicker
- dialog
- expansion
- form-field
- list
- paginator
- radio
- slide-toggle
- stepper
- density
- tabs
- toolbar
- tooltip
- tree

### theme ã§å…¨ Component å…±é€šã® density ã‚’è¨­å®šã™ã‚‹

ã¾ãšæ™®é€šã«`mat-raised-button` ã‚’ç½®ã„ã¦ã¿ã¾ã™ã€‚
![density default](/images/theme-density-default.png)

æ¬¡ã« theme å…¨ä½“ã® density è¨­å®šã‚’å¤‰ãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```scss:style.scss
$custom-theme: mat.define-light-theme(
  (
    color: (
      primary: $density-primary,
      accent: $density-accent,
      warn: $density-warn,
    ),
    density: -2,
  )
);
```

![density -2](/images/theme-density-2.png)

ãƒœã‚¿ãƒ³ã®ä½™ç™½ãŒå°ã•ããªã‚Šã¾ã—ãŸã­ï¼density ã¯ 1 æ®µéšä¸‹ãŒã‚‹ã”ã¨ã«é«˜ã•ãŒ 4px å°ã•ããªã‚‹ã®ã§ã€-2 ã§è¨­å®šã—ãŸã“ã¡ã‚‰ã®ãƒœã‚¿ãƒ³ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¨­å®šã«æ¯”ã¹ã¦ 8px å°ã•ããªã£ã¦ã„ã¾ã™ã€‚

### å€‹åˆ¥ã« density ã‚’è¨­å®šã™ã‚‹

å€‹åˆ¥ã« density ã‚’è¨­å®šã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ãã‚“ãªã¨ãã¯ scss ã® mixin ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚Angular Material ã®å„ Component ã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãª mixin ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

```html:app.component.html
<div class="density0">
  <button mat-raised-button color="primary">æŠ¼ã™ãªã‚ˆ</button>
</div>
<div class="density-1">
  <button mat-raised-button color="primary">æŠ¼ã™ãªã‚ˆ</button>
</div>
<div class="density-2">
  <button mat-raised-button color="primary">çµ¶å¯¾ã«æŠ¼ã™ãªã‚ˆ</button>
</div>
```

```scss:app.component.scss
@use "@angular/material" as mat;

.density-2 {
  @include mat.button-density(-2);
}
.density-1 {
  @include mat.button-density(-1);
}
.density0 {
  @include mat.button-density(0);
}
```

![density step](/images/density.png)

ä¸Šã‹ã‚‰`-2` `-1` `0` ã§è¨­å®šã™ã‚‹ã¨ã€ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚

## density ã‚’æ´»ç”¨ã—ã‚ˆã†ï¼

ä»Šå›ã¯ v15 ã§ç™»å ´ã—ãŸ density ã®ç´¹ä»‹ã§ã—ãŸï¼
Angular Material ã® Component ã®ä½™ç™½éƒ¨åˆ†ã‚’èª¿æ•´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯è‡ªåˆ†ã§ css ã‚’æ›¸ã‹ãšã«ã€density ã®è¨­å®šã§è¦ä»¶ã‚’æº€ãŸã›ãªã„ã‹ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼
